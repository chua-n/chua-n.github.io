 

- 1. HEAD严格来说不是指向提交，而是指向master（当前分支），master才是指向提交的，所以HEAD指向的就是当前分支。
    2. 在实际开发中，我们应该使用master分支作为非常稳定的分支，也就是仅用来发布新版本，平时不能在上面干活；干活都在dev分支上，也就是说dev分支是不稳定的。到某个时候，比如1.0版本发布时，再把dev分支合并到master上，在master分支发布1.0版本。你和你的小伙伴们每个人都在dev分支上干活，每个人都有自己的分支，时不时地往dev分支上合并就可以了。

- ![git-br-policy](file:///C:/Users/xucy-e/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclip/clip_image001.png)

-  

- 1. git命令

- | git checkout -b <dev(branch name)>           | 创建并切换到一个新分支dev                     | 相当于两条命令       git branch dev    git checkout dev      |
    | -------------------------------------------- | --------------------------------------------- | ------------------------------------------------------------ |
    | git branch                                   | 查看所有分支，当前分支前面会标明一个*号       |                                                              |
    | git merge dev                                | 把dev分支的工作合并到master分支上             | 其中会提示Fast-forward信息，这指出当前合并是快进模式，也就是直接把master指针指向dev的当前提交，所以合并速度非常快 |
    | git merge --no-ff -m "merge with no-off" dev | 使用--no-ff参数表示禁用Fast forward的合并模式 | 由于这种合并要创建一个新的commit，所以加上-m参数。           |
    | git branch -d dev                            | 删掉dev分支                                   |                                                              |
    | git branch -D <branch name>                  | 强行删除某分支                                |                                                              |
    | git switch <branch name>                     | 切换到某分支                                  | 最新的版本，比git checkout操作要好                           |
    | git switch -c dev                            | 创建并切换到新的dev分支                       | 比git   checkout -b要好，因为checkout还有个功能为撤销修改，容易混淆 |

- 1. 合并分支时加上**--no-ff****参数**就可以使用**普通模式**合并，合并后的历史有分支，能看出来曾经做过合并，而fast forward合并看不出来曾经做过合并。不使用Fast forward模式的合并像这样

- | ![git merge —no—ff —m merge with dev  made by the strategy.  reaåne. txt +  file changed, insertion (+) ](file:///C:/Users/xucy-e/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclip/clip_image002.png)       ![$ git log  —g_r aph  * el e9c68 (HEAD  —pret ty=oneline ——abbrev—commit  master) merge with no—ff  * f52c633 (dev) add merge  * cf81 Oe4 conflict f ixed ](file:///C:/Users/xucy-e/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclip/clip_image003.png) | ![git-no-ff-mode](file:///C:/Users/xucy-e/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclip/clip_image004.png) |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    |                                                              |                                                              |

- 1. **BUG****分支**——

    2. 1. 修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除；
        2. 当手头工作没有完成时，先把工作现场git       stash一下，然后去修复bug，修复后，再git stash pop，回到工作现场；
        3. 在master分支上修复的bug，想要合并到当前dev分支上，可以用git       cherry-pick <commit>命令，把bug提交的修改“复制”到当前分支，避免重复劳动。

    3. 开发一个新功能时，通常不希望用一些实验性质的代码把主分支搞乱了，所以，每添加一个新功能，最好新创建一个**feature****分支**，在上面开发完成后进行合并，最后删除该分支。此时，如果因为突然原因要丢弃一个没有被合并过的分支，可以通过git      branch -D <name>强行删除。

    4. 并不是所有本地分支都要往远程推送：

    5. 1. master分支是主分支，因此要时刻与远程同步
        2. dev分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步
        3. bug分支只用于在本地修复bug，没必要推送到远程，除非老板要看
        4. feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发

    6. **多人协作**的工作模式通常是这样：

    7. 1. 首先，可以试图用git push origin <branch name>推送自己的修改；
        2. 如果推送失败，则因为远程分支比你的本地更新，需要先用git       pull试图合并；
        3. 若合并有冲突，则解决冲突，并在本地提交；
        4. 没有冲突后，再用git       push origin <branch name>推送就能成功。

