---
title: 网络接口层
date: 2019-08-10
---

## 1. 物理层

可以将物理层的主要任务描述为确定与传输媒体的接口有关的一些特性。

物理层下面的传输媒体（即传输介质）它不属于物理层，是数据传输系统中在发送器和接收器之间的物理通路，可分为：

- 导引型传输媒体：电磁波被导引沿着固体媒体（铜钱或光纤）传播。
- 非导引型传输媒体：即自由空间，在非导引型传输媒体中电磁波的传输常称为无线传输。

在互联网的发展初期，用户都是利用电话的用户线通过调制解调器连接 ISP 的，经过多年的努力，从电话的用户线接入到互联网的速率最高只能达到 56 kbit/s。为了提高用户的上网速率，近年来已经有多种宽带技术进入用户的家庭，然而目前“**宽带**”尚无统一的定义。

用户到互联网的宽带接入方法有：

- ADSL：用数字技术对现有的模拟电话用户线进行改造
- HFC：在有线电视网的基础上开发的
- FTTx：光纤到 x

## 2. 数据链路层

> 数据链路层不必考虑物理层如何实现比特传输的细节。

链路和数据链路并不是一回事：

- **链路**：从一个结点到相邻结点的一段物理线路（有线或无线），而中间没有任何其他的交换结点。

- **数据链路**：当需要在一条线路上传送数据时，除了必须有一条物理线路外，还必须有一些必要的通信协议来控制这些数据的传输，把实现这些协议的硬件和软件加到链路上，即构成数据链路。

  > 最常用的方法是使用**网络适配器**（既有硬件，又有软件）来实现这些协议，一般的网络适配器都包括了数据链路层和物理层这两层的功能。

### 数据链路层协议及 PPP

数据链路层协议有许多种，但都有三个共同的基本问题：**封闭成帧**、**透明传输**、**差错检测**。

所谓的“数据链路层透明传送数据”表示无论什么样的比特组合的数据，都能够按照原样没有差错地通过这个数据链路层。因此，对所传送的数据来说，这些数据就“看不见”数据链路层有什么妨碍数据传输的东西，或者说，数据链路层对这些数据来说是透明的。

**点对点协议 PPP(Point-to-Point Protocol)** 是目前使用得最广泛的数据链路层协议。PPP 协议就是用户计算机和 ISP 进行通信时所使用的数据链路层协议。

这里特别要提到的是在 1999 年公布的在以太网上运行的 PPP，即 PPP over Ethernet，简称为 **PPPoE**，这是 PPP 协议能够适应多种类型链路的一个典型例子。PPPoE 是为宽带上网的主机使用的链路层协议。现在，即使是只有一个用户利用 **ADSL** 进行宽带上网（并不和其他人共享到 ISP 的宽带链路），也是使用 PPPoE 协议。

### MAC 地址

- MAC 地址是用于识别网络设备的物理地址，通常被嵌入在设备的网卡中。
- MAC地址在数据链路层（第二层）使用，它用于在局域网中唯一标识和定位设备。

**MAC 地址**是用于识别一个网络设备的全球唯一的*物理地址*，由 48 位存储，通常被嵌入在设备的网卡中。所谓网卡，全称网络接口卡（NIC，Network Interface Card），是指计算机与外界局域网连接通信时所用的*网络适配器*。

MAC 地址的分配由 IEEE 管理，每个制造商都有自己的唯一标识符，用于标识其设备的制造商。

MAC 地址与 IP 地址的差别：

- MAC 地址用于在局域网中唯一标识和定位设备，是物理地址；而 IP 地址用于在整个网络中唯一标识和定位设备，是逻辑地址，可以通过路由器进行跨网络通信。

- MAC 地址在数据链路层（第二层）使用，而 IP 地址在网络层（第三层）使用。

- MAC 地址在全球范围内是唯一的，由设备制造商确定；而 IP 地址可以在不同的网络中重复使用，但在特定网络中必须是唯一的。

- 在发送数据时，数据从高层下到低层，然后才到通信链路上传输，使用 IP 地址的 IP 数据报一旦交给了数据链路层，就被封装成 MAC 帧了，MAC 帧在传送时使用的源地址和目的地址都是硬件地址。当 IP 数据报放入数据链路层的 MAC 帧中以后，整个的 IP 数据报就成为 MAC 帧的数据，因而在数据链路层中看不见数据报的 IP 地址。

- 计算机的硬件地址就在适配器的 ROM 中，而计算机的软件地址——IP 地址则在计算机的存储器中。

  ![](https://figure-bed.chua-n.com/杂技/计算机网络/32.png)

有了 IP 地址，为什么还需要 MAC 地址：

- 链路层通信：MAC 地址是在数据链路层（第二层）使用的，而 IP 地址是在网络层（第三层）使用的。在局域网或广域网的数据传输过程中，通常是以数据帧的形式进行，这些数据帧需要目标设备的 MAC 地址才能正确到达目标设备。MAC 地址在局域网内用于唯一标识设备，使得数据帧能够在物理网络上正确地路由和传输。
- 局域网通信：在局域网中，通信通常是直接的，不需要经过路由器。在这种情况下，通信设备需要知道目标设备的 MAC 地址，而不仅仅是 IP 地址。

有了 MAC 地址，为什么还需要 IP 地址：

<img src="https://figure-bed.chua-n.com/杂技/计算机网络/43.png" style="zoom:67%;" />

