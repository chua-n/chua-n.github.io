---
title: 数据同步
---

数据同步问题：ES 中的酒店数据来自于 mysql 数据库，因此 mysql 数据发生改变时，ES 也必须跟着改变，这个就是 ES 与 mysql 之间的**数据同步**。

数据同步可有如下 3 种解决方式：

- 方式一：同步通知

    - 优点：实现简单，粗暴

    - 缺点：业务耦合度高

- 方式二：异步通知

    <img src="https://figure-bed.chua-n.com/数据库/Elasticsearch/image-20220101213025069.png" alt="image-20220101213025069" style="zoom:36%;" />

    - 优点：低耦合，实现难度一般
    - 缺点：依赖 MQ 的可靠性

- 方式三：监听 binlog

    - 优点：完全解除服务间耦合
    - 缺点：开启 binlog 增加数据库负担、实现复杂度高