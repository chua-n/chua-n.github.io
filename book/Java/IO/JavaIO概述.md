---
title: JavaIO概述
---

## 1. JavaIO的设计理念

Java的IO通过java.io包下的类和接口来支持（有大概80个类），在java.io包下主要包括**输入**、**输出**两种IO流，每种输入、输出流又可分为<font size=5>**字节流**</font>（以字节为单位）和<font size=5>**字符流**</font>（以字符为单位）两大类。

Java的IO流使用了一种装饰器设计模式，它将IO流分成<font size=5>**底层节点流**</font>和<font size=5>**上层处理流**</font>，其中节点流用于和底层的物理存储节点直接关联。

Java7在java.nio及其子包下提供了一系列全新的API，这些API是对原有新IO的升级，因此也被称为NIO2，通过NIO2程序可以更高效地进行输入、输出操作。

Java把不同的输入/输出源（键盘、文件、网络连接等）抽象表述为<font size=5>**流(stream)**</font> ，通过流的方式允许Java程序使用相同的方式来访问不同的输入/输出源。stream即是从起源(source)到接收(sink)的有序数据。

Java把所有传统的流类型（类或抽象类）都放在java.io包中，用以实现输入/输出功能。

## 2. 流的分类

### 2.1 输入流/输出流

| 输入流                             | 输出流                             |
| ---------------------------------- | ---------------------------------- |
| 只能从中读取数据，不能向其写入数据 | 只能向其写入数据，不能从中读取数据 |
| 以抽象类InputStream和Reader为基类  | 以抽象类OutputStream和Writer为基类 |

### 2.2 字节流/字符流

字节流与字符流两者的用法几乎完全一样，区别只在于操作的数据单元不同，分别为8位的字节和16位的字符。

| 字节流                            | 字符流                 |
| --------------------------------- | ---------------------- |
| 以InputStream和OutputStream为基类 | 以Reader和Writer为基类 |

### 2.3 节点流/处理流

| 节点流                                                       | 处理流                                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 可以从/向一个特定的IO设备读/写数据的流，程序直接连接到实际的数据源。<br />节点流也被称作低级流。 | 对一个已存在的流进行连接或封装，通过封装后的流来实现数据读/写功能。<br />处理流也被称作高级流/包装流。 |

## 3. IO操作的分类

对于IO操作，可分成两步：

- ①程序发出IO请求；
- ②完成实际的IO操作。

针对第一步，可将IO操作划分为<font size=5>**阻塞IO/非阻塞IO**</font>：

- 如果发出IO请求会阻塞线程，就是阻塞IO；
- 如果发出IO请求不会阻塞线程，就是非阻塞IO。

针对第二步，可将IO操作划分为<font size=5>**同步IO/异步IO**</font>：

- 如果实际的IO需要程序本身去执行，会阻塞线程，就是同步IO；
- 如果实际的IO操作由操作系统完成，再将结果返回给应用程序，就是异步IO。

## 4. IO操作的分类-2

Java在java.io包下的操作类大概可以分为4组，前两组主要是传输数据的数据格式，后两组主要是传输数据的方式（值得一提的是Socket类并不在java.io包下）：

- 基于字节操作的I/O接口：InputStream和OutputStream；
- 基于字符操作的I/O接口：Writer和Reader；
- 基于磁盘操作的I/O接口：File；
- 基于网络操作的I/O接口：Socket。

