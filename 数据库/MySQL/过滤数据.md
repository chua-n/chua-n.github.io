查询数据时可以增加过滤条件语句以过滤数据。

## 1. WHERE

按指定条件进行行过滤，WHERE子句通常在FROM子句之后给出：

```sql
SELECT prod_name, prod_price
FROM products
WHERE prod_price = 2.50;
```

## 2. WHERE ... IS NULL

特殊的WHERE字句，可用来检查具有NULL值的列

## 3. HAVING

HAVING非常类似于WHERE，HAVING支持所有WHERE操作。

唯一的差别是WHERE过滤行，HAVING过滤分组。

换言之可理解为：WHERE在数据分组前进行过滤，HAVING在数据分组后进行过滤，所以，WHERE排除的行不包括在分组中。

```sql
SELECT cust_id, COUNT(*) AS orders
FROM orders
GROUP BY cust_id
HAVING COUNT(*) >= 2;
```

| cust_id | orders |
| ------- | ------ |
| 10001   | 2      |

```sql
SELECT vend_id, COUNT(*) AS num_prods
FROM products
WHERE prod_price >= 10
GROUP BY vend_id
HAVING COUNT(*) >= 2;
```

| vend_id | num_prods |
| ------- | --------- |
| 1003    | 4         |
| 1005    | 2         |

## 4. BETWE

`BETWEEN 低端值 AND 高端值`，表示一个闭区间。

```sql
SELECT prod_name, prod_price
FROM products
WHERE vend_id IN (1002, 1003)
ORDER BY prod_name;
```

## 5. IN

IN 取圆括号内由逗号分隔的合法值清单。

```sql
SELECT prod_name, prod_price
FROM products
WHERE vend_id IN (1002, 1003)
ORDER BY prod_name;
```

## 6. ORDER BY

取一个/多个列的名字，据此对输出进行排序。

```sql
SELECT prod_id, prod_price, prod_name
FROM products
ORDER BY prod_price, prod_name;
```

## 7. GROUP BY

提供分组聚合功能，即先分组数据，然后对各个组分别进行指定的聚合操作。

```sql
-- 执行该SELECT语句时，会把class_id相同的列先分组，再对各组分别计算其COUNT(*)
SELECT COUNT(*) as num FROM students GROUP BY class_id;

-- 也可对多列进行操作
SELECT class_id, gender, COUNT(*) as num FROM students GROUP BY class_id, gender;
```

## 8. SELECT子句的顺序

| 子句      | 说明               | 是否必须使用           |
| --------- | ------------------ | ---------------------- |
| SELECT    | 要返回的列或表达式 | 是                     |
| FROM      | 从中检索数据的表   | 仅在从表选择数据时使用 |
| WHERE     | 行级过滤           | 否                     |
| GROUP  BY | 分组说明           | 仅在按组计算聚焦时使用 |
| HAVING    | 分组级过滤         | 否                     |
| ORDER  BY | 输出的排序顺序     | 否                     |
| LIMIT     | 要检索的行数       | 否                     |

## 9. 常用的条件表达式

| 符号 | 条件     | 表达式举例1     | 表达式举例2      | 说明                                              |
| ---- | -------- | --------------- | ---------------- | ------------------------------------------------- |
| =    | 相等     | score = 80      | name = 'abc'     | 字符串需要用单引号括起来                          |
| >    | 大于     | score > 80      | name > 'abc'     | 字符串比较根据ASCII码，中文字符比较根据数据库设置 |
| >=   | 大于等于 | score >= 80     | name >= 'abc'    |                                                   |
| <    | 小于     | score < 80      | name <= 'abc'    |                                                   |
| <=   | 小于等于 | score <= 80     | name <= 'abc'    |                                                   |
| <>   | 不相等   | score <> 80     | name <> 'abc'    |                                                   |
| LIKE | 相似     | name LIKE 'ab%' | name LIKE '%bc%' | %表示任意字符，例如'ab%'将匹配'ab'，'abc'，'abcd' |

## 10. 注意事项

在通过过滤条件选择出不具有特定值的行时，你可能希望返回具有NULL值的行，但是这其实做不到。因为未知具有特殊的含义，数据库不知道它们是否匹配，所以在匹配过滤或不匹配过滤时不返回它们。

